
# 🧠 Hermes 智能策略机器人开发计划

## 🎯 项目目标

构建一个运行在 Vercel 上的 GMX 策略交易机器人平台，支持：

- 钱包连接（wagmi + MetaMask）
- 会员订阅系统（链上存储 + USDT 付款）
- 策略配置（杠杆、止盈止损）
- 后端 Hermes 执行器定时判断并发起链上交易
- 合约与 GMX 实盘/Mock 集成
- 所有合约安全、可管理、可升级

---

## ✅ 阶段 1：基础框架搭建（1~2 天）

- 初始化 Next.js 项目（TypeScript + Tailwind + wagmi）
- 配置链环境（Arbitrum 测试网 / 主网）
- 实现钱包连接组件
- 接入 GMX SDK，读取行情（ETH、ARB 等）
- 创建路由结构：`/` `/membership` `/strategy` `/admin`

---

## ✅ 阶段 2：智能合约开发 & 部署（3~5 天）

### 🎫 MembershipManager

- USDT 支付订阅，记录会员到期时间
- 永久会员 / 超级管理员标识
- 设置 feeCollector 收款地址
- 权限管理接口

### ⚙️ StrategyProxy

- 记录用户策略配置
- 存入/提取用户资金
- 触发策略 → 调用 GMX（或 mock）
- 扣除手续费，转至 feeCollector

### 🚀 部署脚本

- 使用 Hardhat 编写部署脚本
- 初始化设置权限/管理员/fee 地址
- 自动生成前端可用的地址文件

---

## ✅ 阶段 3：策略执行器 Hermes（5~7 天）

- Node.js 后端服务（可部署 VPS）
- 定时拉取链上所有激活策略
- 获取实时行情（GMX SDK）
- 满足条件时调用合约发起交易
- 日志记录、错误处理、发送通知（可选）

---

## ✅ 阶段 4：前端功能开发（7~10 天）

- 首页介绍 + 快捷入口
- `/membership` 支付 USDT 成为会员
- `/strategy` 策略参数配置页面
- `/positions` 显示当前策略执行/收益记录
- `/admin` 管理员设置权限

---

## ✅ 阶段 5：Mock 测试与多用户支持（3~5 天）

- 本地链部署 mock GMX 合约
- 使用 Anvil 或 hardhat mainnet fork 测试真实行情
- 多钱包登录测试策略效果
- 用户资金在合约中隔离

---

## ✅ 阶段 6：上线准备 & 安全审查（3~5 天）

- 前端部署至 Vercel
- 后端 Hermes 执行器部署至 VPS（或 serverless）
- 合约权限检查、日志审计、Etherscan 验证
- 收款地址使用 Gnosis Safe
- `.env` 与前端/后端配置统一

---

## ✅ 阶段 7（长期）：策略优化 & 实盘运行

- 策略参数组合配置（激进/保守）
- 实盘连接 GMX 正式网络
- 增加止损/追踪止盈逻辑
- 回测系统（或接入 TradingView）
- 多种策略组合（网格、反转、波动）

---

## 📅 时间表建议

| 阶段 | 时间 | 是否可并行 |
|------|------|-------------|
| 1~2  | 2 天 | ✅ |
| 3~4  | 7~10 天 | ✅ |
| 5~6  | 6 天 | ✅ |
| 7    | 长期 | ❌ |

---

## ✅ 模块分工建议

| 模块         | 是否独立 | 可否先上线 |
|--------------|-----------|------------|
| 前端展示     | ✅ 独立   | ✅ |
| 合约模块     | ✅ 独立   | ❌ |
| 后端策略     | ✅ 独立   | ✅ |
| 会员系统     | ✅ 独立   | ✅ |
| Hermes 执行器 | ✅ 独立   | ✅ |

---

## ✅ 一句话总结

本项目建议采用“合约分权 + 前后端解耦 + 策略定时执行器”的架构，先开发会员支付与基础策略流程，再逐步集成多用户和策略组合模块，合约地址集中配置、模块可插拔可升级。
